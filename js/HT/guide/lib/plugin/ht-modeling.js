!function(w,I,s){"use strict";var u="ht",z=w[u],O=null,v=Math,p=v.PI,_=v.cos,T=v.sin,n=v.abs,f=v.max,N=v.sqrt,t=1e-5,D=z.Default,b=D.def,H=D.startAnim,$=D.createMatrix,y=D.transformVec,R=D.getInternal(),S=R.addMethod,Q=R.superCall,Y=R.toPointsArray,E=R.createNormals,k=R.toFloatArray,U=R.glMV,L=R.batchShape,g=R.createNodeMatrix,G=R.getFaceInfo,e=R.transformAppend,W=R.drawFaceInfo,J=R.createAnim,B=R.cube(),m=B.is,q=B.vs,C=B.uv,i=R.ui(),d=z.Node,r=z.Shape,X="h",K="v",o="front",h="back",x="left",l="right",P="top",c="bottom",a="dw.expanded",A=".expanded",M="dw.angle",V=".angle",j=function(e,H,D){b(u+"."+e,H,D)},F=function(h,Z,A){A?h.push(Z.x,Z.y):h.push(Z.x,Z.y,Z.z)},Z=[1,0,0],Hc=function(R,_,T,k){var B,$,e,s,a=0,p=[];if(k)for(B=k.length;B>a;a+=3)$=k[a],e=k[a+1],s=k[a+2],p.push(new xs([new hf([_[3*$],_[3*$+1],_[3*$+2]],Z,T?[T[2*$],T[2*$+1],0]:O),new hf([_[3*e],_[3*e+1],_[3*e+2]],Z,T?[T[2*e],T[2*e+1],0]:O),new hf([_[3*s],_[3*s+1],_[3*s+2]],Z,T?[T[2*s],T[2*s+1],0]:O)],R));else for(B=_.length;B>a;a+=3)$=a,e=a+1,s=a+2,p.push(new xs([new hf([_[3*$],_[3*$+1],_[3*$+2]],Z,T?[T[2*$],T[2*$+1],0]:O),new hf([_[3*e],_[3*e+1],_[3*e+2]],Z,T?[T[2*e],T[2*e+1],0]:O),new hf([_[3*s],_[3*s+1],_[3*s+2]],Z,T?[T[2*s],T[2*s+1],0]:O)],R));return p},zn=[x,o,l,h,P,c],Ni=zn.concat("csg"),ej=[0,6,12,18,24,30],wg=function(u,z,W){for(var w=g(u),Q=[],U=0;6>U;U++)for(var H=zn[U],b=ej[U],n=W?z.getFaceUv(u,H):O,s=W?z.getFaceUvScale(u,H):O,S=W?z.getFaceUvOffset(u,H):O,J=0;2>J;J++){var G,V,E,A=m[b+3*J],r=m[b+3*J+1],o=m[b+3*J+2];if(W){if(n){var P=8*U;G=[n[2*A-P],n[2*A+1-P],0],V=[n[2*r-P],n[2*r+1-P],0],E=[n[2*o-P],n[2*o+1-P],0]}else G=[C[2*A],C[2*A+1],0],V=[C[2*r],C[2*r+1],0],E=[C[2*o],C[2*o+1],0];s&&(G[0]*=s[0],G[1]*=s[1],V[0]*=s[0],V[1]*=s[1],E[0]*=s[0],E[1]*=s[1]),S&&(G[0]+=S[0],G[1]+=S[1],V[0]+=S[0],V[1]+=S[1],E[0]+=S[0],E[1]+=S[1])}Q.push(new xs([new hf(y([q[3*A],q[3*A+1],q[3*A+2]],w),Z,G),new hf(y([q[3*r],q[3*r+1],q[3*r+2]],w),Z,V),new hf(y([q[3*o],q[3*o+1],q[3*o+2]],w),Z,E)],u))}return xe.$15n(Q)},We=function(r,p){var d,H=r.data.getAttaches();if(H&&H.each(function(T){T instanceof Ln&&T.s("attach.operation")&&(d||(d=[]),d.push(T))}),d){var N;zn.forEach(function(C){var m=Hc(C,r[C].vs,r[C].tuv);N=N?N.concat(m):m}),N=xe.$15n(N),d.forEach(function(H){var x=H.s("attach.operation");N[x]&&(N=N[x](wg(H,r.gv,r.csg.tuv)))}),zn.forEach(function(u){u=r[u],u.vs=[],u.tuv&&(u.tuv=[])}),N.$19n().forEach(function(L){var B=L.$10n;if(B instanceof Ln){if(B.s("attach.cull"))return;B="csg"}for(var X=r[B],h=X.vs,K=X.tuv,v=L.$9n,T=2;T<v.length;T++)F(h,v[0].$24n),F(h,v[T-1].$24n),F(h,v[T].$24n),K&&(F(K,v[0].uv,!0),F(K,v[T-1].uv,!0),F(K,v[T].uv,!0))})}Ni.forEach(function(K){var A=r[K];A.visible&&A.vs.length?(A.ns=E(A.vs),k(A,"vs"),k(A,"tuv")):delete r[K]}),p&&(L(r,O,p),r.clear())};S(D,{createFrameModel:function(z,i,n,p){z=z==O?.07:z,i=i==O?z:i,n=n==O?z:n,p=p?p:{};var o=p.top,N=p.bottom,C=p.left,s=p.right,D=p.front,x=p.back,h=[],k=[];return D===!0?(h.push(-.5,.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,-.5,.5,.5,.5,.5,-.5,.5,.5),k.push(0,0,0,1,1,1,1,1,1,0,0,0)):D===!1||(h.push(-.5,.5,.5,-.5,-.5,.5,-.5+z,-.5,.5,-.5+z,-.5,.5,-.5+z,.5,.5,-.5,.5,.5,.5-z,.5,.5,.5-z,-.5,.5,.5,-.5,.5,.5,-.5,.5,.5,.5,.5,.5-z,.5,.5,-.5+z,.5,.5,-.5+z,.5-i,.5,.5-z,.5-i,.5,.5-z,.5-i,.5,.5-z,.5,.5,-.5+z,.5,.5,-.5+z,-.5+i,.5,-.5+z,-.5,.5,.5-z,-.5,.5,.5-z,-.5,.5,.5-z,-.5+i,.5,-.5+z,-.5+i,.5),k.push(0,0,0,1,z,1,z,1,z,0,0,0,1-z,0,1-z,1,1,1,1,1,1,0,1-z,0,z,0,z,i,1-z,i,1-z,i,1-z,0,z,0,z,1-i,z,1,1-z,1,1-z,1,1-z,1-i,z,1-i)),x===!0?(h.push(-.5,.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,-.5,.5,-.5,.5,.5,-.5),k.push(1,0,0,1,1,1,0,1,1,0,0,0)):x===!1||(h.push(-.5,.5,-.5,-.5+z,-.5,-.5,-.5,-.5,-.5,-.5+z,-.5,-.5,-.5,.5,-.5,-.5+z,.5,-.5,.5-z,.5,-.5,.5,-.5,-.5,.5-z,-.5,-.5,.5,-.5,-.5,.5-z,.5,-.5,.5,.5,-.5,-.5+z,.5,-.5,.5-z,.5-i,-.5,-.5+z,.5-i,-.5,.5-z,.5-i,-.5,-.5+z,.5,-.5,.5-z,.5,-.5,-.5+z,-.5+i,-.5,.5-z,-.5,-.5,-.5+z,-.5,-.5,.5-z,-.5,-.5,-.5+z,-.5+i,-.5,.5-z,-.5+i,-.5),k.push(1,0,1-z,1,1,1,1-z,1,1,0,1-z,0,z,0,0,1,z,1,0,1,z,0,0,0,1-z,0,z,i,1-z,i,z,i,1-z,0,z,0,1-z,1-i,z,1,1-z,1,z,1,1-z,1-i,z,1-i)),C===!0?(h.push(-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,-.5),k.push(0,0,0,1,1,1,1,1,1,0,0,0)):C===!1||(h.push(-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5+n,-.5,-.5,-.5+n,-.5,.5,-.5+n,-.5,.5,-.5,-.5,.5,.5-n,-.5,-.5,.5-n,-.5,-.5,.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,.5-n,-.5,.5,-.5+n,-.5,.5-i,-.5+n,-.5,.5-i,.5-n,-.5,.5-i,.5-n,-.5,.5,.5-n,-.5,.5,-.5+n,-.5,-.5+i,-.5+n,-.5,-.5,-.5+n,-.5,-.5,.5-n,-.5,-.5,.5-n,-.5,-.5+i,.5-n,-.5,-.5+i,-.5+n),k.push(0,0,0,1,n,1,n,1,n,0,0,0,1-n,0,1-n,1,1,1,1,1,1,0,1-n,0,n,0,n,i,1-n,i,1-n,i,1-n,0,n,0,n,1-i,n,1,1-n,1,1-n,1,1-n,1-i,n,1-i)),s===!0?(h.push(.5,.5,-.5,.5,-.5,.5,.5,-.5,-.5,.5,-.5,.5,.5,.5,-.5,.5,.5,.5),k.push(1,0,0,1,1,1,0,1,1,0,0,0)):s===!1||(h.push(.5,.5,-.5,.5,-.5,-.5+n,.5,-.5,-.5,.5,-.5,-.5+n,.5,.5,-.5,.5,.5,-.5+n,.5,.5,.5-n,.5,-.5,.5,.5,-.5,.5-n,.5,-.5,.5,.5,.5,.5-n,.5,.5,.5,.5,.5,-.5+n,.5,.5-i,.5-n,.5,.5-i,-.5+n,.5,.5-i,.5-n,.5,.5,-.5+n,.5,.5,.5-n,.5,-.5+i,-.5+n,.5,-.5,.5-n,.5,-.5,-.5+n,.5,-.5,.5-n,.5,-.5+i,-.5+n,.5,-.5+i,.5-n),k.push(1,0,1-n,1,1,1,1-n,1,1,0,1-n,0,n,0,0,1,n,1,0,1,n,0,0,0,1-n,0,n,i,1-n,i,n,i,1-n,0,n,0,1-n,1-i,n,1,1-n,1,n,1,1-n,1-i,n,1-i)),o===!0?(h.push(.5,.5,.5,.5,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,.5,.5,.5),k.push(1,1,1,0,0,0,0,0,0,1,1,1)):o===!1||(h.push(.5,.5,.5,.5,.5,-.5,.5-z,.5,-.5,.5-z,.5,-.5,.5-z,.5,.5,.5,.5,.5,-.5+z,.5,.5,-.5+z,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5+z,.5,.5,.5-z,.5,.5,.5-z,.5,.5-n,-.5+z,.5,.5-n,-.5+z,.5,.5-n,-.5+z,.5,.5,.5-z,.5,.5,.5-z,.5,-.5+n,.5-z,.5,-.5,-.5+z,.5,-.5,-.5+z,.5,-.5,-.5+z,.5,-.5+n,.5-z,.5,-.5+n),k.push(1,1,1,0,1-z,0,1-z,0,1-z,1,1,1,z,1,z,0,0,0,0,0,0,1,z,1,1-z,1,1-z,1-n,z,1-n,z,1-n,z,1,1-z,1,1-z,n,1-z,0,z,0,z,0,z,n,1-z,n)),N===!0?(h.push(.5,-.5,.5,-.5,-.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,.5,-.5,-.5,.5),k.push(1,0,0,1,1,1,0,1,1,0,0,0)):N===!1||(h.push(.5,-.5,.5,.5-z,-.5,-.5,.5,-.5,-.5,.5-z,-.5,-.5,.5,-.5,.5,.5-z,-.5,.5,-.5+z,-.5,.5,-.5,-.5,-.5,-.5+z,-.5,-.5,-.5,-.5,-.5,-.5+z,-.5,.5,-.5,-.5,.5,.5-z,-.5,.5,-.5+z,-.5,.5-n,.5-z,-.5,.5-n,-.5+z,-.5,.5-n,.5-z,-.5,.5,-.5+z,-.5,.5,.5-z,-.5,-.5+n,-.5+z,-.5,-.5,.5-z,-.5,-.5,-.5+z,-.5,-.5,.5-z,-.5,-.5+n,-.5+z,-.5,-.5+n),k.push(1,0,1-z,1,1,1,1-z,1,1,0,1-z,0,z,0,0,1,z,1,0,1,z,0,0,0,1-z,0,z,n,1-z,n,z,n,1-z,0,z,0,1-z,1-n,z,1,1-z,1,z,1,1-z,1-n,z,1-n)),{vs:h,uv:k}}}),S(z.Style,{"dw.flip":!1,"dw.s3":[.999,.999,.5],"dw.t3":s,"dw.expanded":!1,"dw.toggleable":!0,"dw.axis":"left","dw.start":0,"dw.end":p/2,"dw.angle":0,"attach.cull":!1,"attach.operation":"subtract"},!0),zn.forEach(function(M){var g={};g[M+A]=!1,g[M+".toggleable"]=!1,g[M+".axis"]=x,g[M+".start"]=0,g[M+".end"]=p/2,g[M+V]=0,S(z.Style,g,!0)});var xe=function(){this.$4n=[]};xe.$15n=function(N){var G=new xe;return G.$4n=N,G},xe.prototype={clone:function(){var c=new xe;return c.$4n=this.$4n.map(function(B){return B.clone()}),c},$19n:function(){return this.$4n},union:function($){var Z=new Km(this.clone().$4n),x=new Km($.clone().$4n);return Z.$3n(x),x.$3n(Z),x.$6n(),x.$3n(Z),x.$6n(),Z.$7n(x.$2n()),xe.$15n(Z.$2n())},subtract:function(E){var b=new Km(this.clone().$4n),i=new Km(E.clone().$4n);return b.$6n(),b.$3n(i),i.$3n(b),i.$6n(),i.$3n(b),i.$6n(),b.$7n(i.$2n()),b.$6n(),xe.$15n(b.$2n())},intersect:function(p){var X=new Km(this.clone().$4n),z=new Km(p.clone().$4n);return X.$6n(),z.$3n(X),z.$6n(),X.$3n(z),z.$3n(X),X.$7n(z.$2n()),X.$6n(),xe.$15n(X.$2n())},inverse:function(){var c=this.clone();return c.$4n.map(function(C){C.flip()}),c}},xe.cube=function(G){G=G||{};var l=new In(G.center||[0,0,0]),Q=G.radius?G.radius.length?G.radius:[G.radius,G.radius,G.radius]:[1,1,1];return xe.$15n([[[0,4,6,2],[-1,0,0]],[[1,3,7,5],[1,0,0]],[[0,1,5,4],[0,-1,0]],[[2,6,7,3],[0,1,0]],[[0,2,3,1],[0,0,-1]],[[4,5,7,6],[0,0,1]]].map(function(N){return new xs(N[0].map(function(J){var S=new In(l.x+Q[0]*(2*!!(1&J)-1),l.y+Q[1]*(2*!!(2&J)-1),l.z+Q[2]*(2*!!(4&J)-1));return new hf(S,new In(N[1]))}))}))},xe.sphere=function(k){function Y(q,c){q*=2*p,c*=p;var M=new In(_(q)*T(c),_(c),T(q)*T(c));b.push(new hf(w.$20n(M.$21n(Q)),M))}k=k||{};for(var b,w=new In(k.center||[0,0,0]),Q=k.radius||1,B=k.slices||16,F=k.stacks||8,u=[],o=0;B>o;o++)for(var E=0;F>E;E++)b=[],Y(o/B,E/F),E>0&&Y((o+1)/B,E/F),F-1>E&&Y((o+1)/B,(E+1)/F),Y(o/B,(E+1)/F),u.push(new xs(b));return xe.$15n(u)},xe.cylinder=function(c){function t(z,y,a){var A=2*y*p,c=s.$21n(_(A)).$20n(o.$21n(T(A))),r=P.$20n(F.$21n(z)).$20n(c.$21n(g)),k=c.$21n(1-n(a)).$20n(H.$21n(a));return new hf(r,k)}c=c||{};for(var P=new In(c.start||[0,-1,0]),l=new In(c.end||[0,1,0]),F=l.$13n(P),g=c.radius||1,j=c.slices||16,H=F.$14n(),M=n(H.y)>.5,s=new In(M,!M,0).$12n(H).$14n(),o=s.$12n(H).$14n(),u=new hf(P,H.$11n()),G=new hf(l,H.$14n()),R=[],N=0;j>N;N++){var O=N/j,U=(N+1)/j;R.push(new xs([u,t(0,O,-1),t(0,U,-1)])),R.push(new xs([t(0,U,0),t(0,O,0),t(1,O,0),t(1,U,0)])),R.push(new xs([G,t(1,U,1),t(1,O,1)]))}return xe.$15n(R)};var In=function(r,F,o){var z=this;3==arguments.length?(z.x=r,z.y=F,z.z=o):"x"in r?(z.x=r.x,z.y=r.y,z.z=r.z):(z.x=r[0],z.y=r[1],z.z=r[2])};In.prototype={clone:function(){return new In(this.x,this.y,this.z)},$11n:function(){return new In(-this.x,-this.y,-this.z)},$20n:function(n){return new In(this.x+n.x,this.y+n.y,this.z+n.z)},$13n:function(l){return new In(this.x-l.x,this.y-l.y,this.z-l.z)},$21n:function(l){return new In(this.x*l,this.y*l,this.z*l)},$16n:function(z){return new In(this.x/z,this.y/z,this.z/z)},$23n:function(i){return this.x*i.x+this.y*i.y+this.z*i.z},lerp:function(v,w){return this.$20n(v.$13n(this).$21n(w))},length:function(){return N(this.$23n(this))},$14n:function(){return this.$16n(this.length())},$12n:function(u){var l=this;return new In(l.y*u.z-l.z*u.y,l.z*u.x-l.x*u.z,l.x*u.y-l.y*u.x)}};var hf=function(Q,I,T){var H=this;H.$24n=new In(Q),H.$22n=new In(I),H.uv=T?new In(T):null};hf.prototype={clone:function(){var M=this;return new hf(M.$24n.clone(),M.$22n.clone(),M.uv?M.uv.clone():null)},flip:function(){this.$22n=this.$22n.$11n()},$18n:function(d,X){var r=this;return new hf(r.$24n.lerp(d.$24n,X),r.$22n.lerp(d.$22n,X),r.uv?r.uv.lerp(d.uv,X):null)}};var tk=function(w,k){this.$22n=w,this.w=k};tk.$17n=function(c,$,a){var g=$.$13n(c).$12n(a.$13n(c)).$14n();return new tk(g,g.$23n(c))},tk.prototype={clone:function(){return new tk(this.$22n.clone(),this.w)},flip:function(){var e=this;e.$22n=e.$22n.$11n(),e.w=-e.w},$5n:function(u,S,R,d,Y){for(var r=this,C=0,j=1,U=2,n=3,Z=0,G=[],I=0;I<u.$9n.length;I++){var L=r.$22n.$23n(u.$9n[I].$24n)-r.w,N=-t>L?U:L>t?j:C;Z|=N,G.push(N)}switch(Z){case C:(r.$22n.$23n(u.$8n.$22n)>0?S:R).push(u);break;case j:d.push(u);break;case U:Y.push(u);break;case n:for(var e=[],m=[],I=0;I<u.$9n.length;I++){var x=(I+1)%u.$9n.length,O=G[I],p=G[x],A=u.$9n[I],g=u.$9n[x];if(O!=U&&e.push(A),O!=j&&m.push(O!=U?A.clone():A),(O|p)==n){var L=(r.w-this.$22n.$23n(A.$24n))/r.$22n.$23n(g.$24n.$13n(A.$24n)),w=A.$18n(g,L);e.push(w),m.push(w.clone())}}e.length>=3&&d.push(new xs(e,u.$10n)),m.length>=3&&Y.push(new xs(m,u.$10n))}}};var xs=function(o,e){var m=this;m.$9n=o,m.$10n=e,m.$8n=tk.$17n(o[0].$24n,o[1].$24n,o[2].$24n)};xs.prototype={clone:function(){var g=this.$9n.map(function(c){return c.clone()});return new xs(g,this.$10n)},flip:function(){this.$9n.reverse().map(function(b){b.flip()}),this.$8n.flip()}};var Km=function(Q){var O=this;O.$8n=null,O.front=null,O.back=null,O.$4n=[],Q&&O.$7n(Q)};Km.prototype={clone:function(){var w=this,A=new Km;return A.$8n=w.$8n&&w.$8n.clone(),A.front=w.front&&w.front.clone(),A.back=w.back&&w.back.clone(),A.$4n=w.$4n.map(function(P){return P.clone()}),A},$6n:function(){for(var j=this,r=0;r<j.$4n.length;r++)j.$4n[r].flip();j.$8n.flip(),j.front&&j.front.$6n(),j.back&&j.back.$6n();var z=j.front;j.front=j.back,j.back=z},$1n:function(i){var e=this;if(!e.$8n)return i.slice();for(var t=[],K=[],j=0;j<i.length;j++)e.$8n.$5n(i[j],t,K,t,K);return e.front&&(t=e.front.$1n(t)),K=e.back?e.back.$1n(K):[],t.concat(K)},$3n:function(J){var o=this;o.$4n=J.$1n(o.$4n),o.front&&o.front.$3n(J),o.back&&o.back.$3n(J)},$2n:function(){var $=this,r=$.$4n.slice();return $.front&&(r=r.concat($.front.$2n())),$.back&&(r=r.concat($.back.$2n())),r},$7n:function(x){var B=this;if(x.length){B.$8n||(B.$8n=x[0].$8n.clone());for(var V=[],F=[],u=0;u<x.length;u++)this.$8n.$5n(x[u],B.$4n,B.$4n,V,F);V.length&&(B.front||(B.front=new Km),this.front.$7n(V)),F.length&&(B.back||(B.back=new Km),B.back.$7n(F))}}};var Qc="symbol",wp=z.Symbol=function(J,D,Y){var o=this;Q(wp,o),o.s3(20,20,20),o.s({"all.visible":!1,shape:"rect"}),o.setIcon(J,D,Y)};j("Symbol",d,{setIcon:function(U,F,i){var b,G=this;return wp.superClass.setIcon.call(G,U),U?(b={for3d:!0,face:"center",position:44,names:[U]},i&&(b.transaprent=!0),F&&(b.autorotate=F),G.addStyleIcon(Qc,b)):G.removeStyleIcon(Qc),G.setWidth(R.getImageWidth(D.getImage(U),G)||20),b}});var Ln=z.CSGNode=function(){Q(Ln,this),this.s({shape:"rect","attach.thickness":1.001})},Zi={position:1,width:1,height:1,rotation:1,rotationX:1,rotationZ:1,rotationMode:1,tall:1,elevation:1,"s:attach.cull":1,"s:attach.operation":1};j("CSGNode",d,{_22Q:function(){return np},onPropertyChanged:function(H){var V=this,T=V.getHost();Ln.superClass.onPropertyChanged.call(V,H),Zi[H.property]&&(T instanceof el||T instanceof Ln)&&T.fp("csgNodeChange",!0,!1)}});var np=function(R,v){Q(np,this,[R,v])};b(np,i.Node3dUI,{_80o:function(x,T,w){var c=this;c._shape3d?np.superClass._80o.call(c,x,T,w):(U(c.gv),Ni.forEach(function(u){W(c,x,T,c[u],w)}))},validate:function(o,d){var s=this,S=s.gv,k=s.data;if(k.s("shape3d"))return np.superClass.validate.call(s,o,d),s._shape3d=!0,void 0;s._shape3d=!1;var H=g(k,S.getMat(k)),_=o&&o.uv;s.vf2("csg",_);for(var v=0;6>v;v++)for(var O=zn[v],B=ej[v],K=s.vf2(O,_,d),Z=K.mat||H,n=K.vs,V=K.uv,D=K.tuv,h=0;2>h;h++){var b=m[B+3*h],t=m[B+3*h+1],P=m[B+3*h+2];if(e(n,Z,[q[3*b],q[3*b+1],q[3*b+2]]),e(n,Z,[q[3*t],q[3*t+1],q[3*t+2]]),e(n,Z,[q[3*P],q[3*P+1],q[3*P+2]]),D)if(V){var N=8*v;D.push(V[2*b-N],V[2*b+1-N],V[2*t-N],V[2*t+1-N],V[2*P-N],V[2*P+1-N])}else D.push(C[2*b],C[2*b+1],C[2*t],C[2*t+1],C[2*P],C[2*P+1])}We(s,o,d)},vf2:function(K,R,v){var p,N=this,j=N.gv.getFaceVisible(N.data,K);return p=G(N,K,v),p.vs=[],p.tuv=j&&(p.texture||R)?[]:O,p.visible=j,p}});var el=z.CSGShape=function(){var U=this;Q(el,U),U.s({"shape.background":O,"shape.border.width":8}),U.setTall(240),U.setElevation(120),U.setThickness(14)};j("CSGShape",r,{IRotatable:!1,_22Q:function(){return Yn},setRotationX:function(){},setRotation:function(){},setRotationZ:function(){},setSegments:function(){}});var Yn=function(f,x){Q(Yn,this,[f,x])};b(Yn,i.Shape3dUI,{_80o:function(K,l,D){var H=this;H.undrawable||(U(H.gv),Ni.forEach(function(R){W(H,K,l,H[R],D)}))},validate:function(w,c){var z=this,n=z.data,u=n.getPoints();if(z.undrawable=u.size()<2)return z.clear(),void 0;var G=n.isClosePath(),h=f(n._thickness/2,t),x=Y(u,O,O,G);Ni.forEach(function(O){z.vf(O,w&&w.uv,!0,c)}),G&&(z.left.visible=!1,z.right.visible=!1),z._12O(x,h),z._20Q(x),We(z,w,c)}});var Yp=z.DoorWindow=function(){var I=this;Q(Yp,I),I.setElevation(100),I.s3(100,200,14)};j("DoorWindow",Ln,{IDoorWindow:!0,toggle:function(z){this.setExpanded(!this.s(a),z)},isExpanded:function(){return this.s(a)},setExpanded:function(Q,A){var o=this,k=o.$25n,T=o.getDataModel(),F=o.s(a);if(k&&(k.stop(!0),delete o.$25n),F!==Q){T&&T.beginTransaction();var N=Q?o.s("dw.end"):o.s("dw.start");o.s(a,Q),A=J(A),A?(F=o.s(M),A.action=function(P){o.s(M,F+(N-F)*P)},A.finishFunc=function(){T&&T.endTransaction()},o.$25n=H(A)):(o.s(M,N),T&&T.endTransaction())}},getMat:function(){var w=this,r=w.s("dw.s3"),V=w.s("dw.t3"),Q=w.s("dw.flip"),k=w.s(M);if(r||k||V||Q){var Z=[];if(Q&&Z.push({r3:[0,p,0]}),r&&Z.push({s3:r}),k){r=w.s3();var e=w.s("dw.axis"),j=r[0]/2,_=r[1]/2;r[2]/2,e===x?Z.push({t3:[j,0,0]},{r3:[0,-k,0]},{t3:[-j,0,0]}):e===l?Z.push({t3:[-j,0,0]},{r3:[0,k,0]},{t3:[j,0,0]}):e===P?Z.push({t3:[0,-_,0]},{r3:[-k,0,0]},{t3:[0,_,0]}):e===c?Z.push({t3:[0,_,0]},{r3:[k,0,0]},{t3:[0,-_,0]}):e===K?Z.push({r3:[0,k,0]}):e===X&&Z.push({r3:[k,0,0]})}return V&&Z.push({t3:V}),$(Z)}return O}});var Jj=z.CSGBox=function(){var V=this;Q(Jj,V),V.setElevation(100),V.s3(100,200,100)};j("CSGBox",Ln,{ICSGBox:!0,toggleFace:function(G,f){this.setFaceExpanded(G,!this.s(G+A),f)},isFaceExpanded:function(y){return this.s(y+A)},setFaceExpanded:function(K,n,W){var g=this,P=g.$25n,M=g.s(K+A);if(P&&(P.stop(!0),delete g.$25n),M!==n){var C=n?g.s(K+".end"):g.s(K+".start");g.s(K+A,n),W=J(W),W?(M=g.s(K+V),W.action=function(O){g.s(K+V,M+(C-M)*O)},g.$25n=H(W)):g.s(K+V,C)}},getFaceMat:function(C){var N=this,i=N.s(C+V);if(!i)return O;var Y=N.s(C+".axis"),E=N.s3(),M=E[0]/2,F=E[1]/2,T=E[2]/2,m=[];return C===o&&(Y===x?m.push({t3:[M,0,-T]},{r3:[0,-i,0]},{t3:[-M,0,T]}):Y===l?m.push({t3:[-M,0,-T]},{r3:[0,i,0]},{t3:[M,0,T]}):Y===P?m.push({t3:[0,-F,-T]},{r3:[-i,0,0]},{t3:[0,F,T]}):Y===c?m.push({t3:[0,F,-T]},{r3:[i,0,0]},{t3:[0,-F,T]}):Y===K?m.push({t3:[0,0,-T]},{r3:[0,i,0]},{t3:[0,0,T]}):Y===X&&m.push({t3:[0,0,-T]},{r3:[i,0,0]},{t3:[0,0,T]})),C===h&&(Y===x?m.push({t3:[-M,0,T]},{r3:[0,-i,0]},{t3:[M,0,-T]}):Y===l?m.push({t3:[M,0,T]},{r3:[0,i,0]},{t3:[-M,0,-T]}):Y===P?m.push({t3:[0,-F,T]},{r3:[i,0,0]},{t3:[0,F,-T]}):Y===c?m.push({t3:[0,F,T]},{r3:[-i,0,0]},{t3:[0,-F,-T]}):Y===K?m.push({t3:[0,0,T]},{r3:[0,i,0]},{t3:[0,0,-T]}):Y===X&&m.push({t3:[0,0,T]},{r3:[i,0,0]},{t3:[0,0,-T]})),C===x&&(Y===x?m.push({t3:[M,0,T]},{r3:[0,-i,0]},{t3:[-M,0,-T]}):Y===l?m.push({t3:[M,0,-T]},{r3:[0,i,0]},{t3:[-M,0,T]}):Y===P?m.push({t3:[M,-F,0]},{r3:[0,0,-i]},{t3:[-M,F,0]}):Y===c?m.push({t3:[M,F,0]},{r3:[0,0,i]},{t3:[-M,-F,0]}):Y===K?m.push({t3:[M,0,0]},{r3:[0,i,0]},{t3:[-M,0,0]}):Y===X&&m.push({t3:[M,0,0]},{r3:[0,0,i]},{t3:[-M,0,0]})),C===l&&(Y===x?m.push({t3:[-M,0,-T]},{r3:[0,-i,0]},{t3:[M,0,T]}):Y===l?m.push({t3:[-M,0,T]},{r3:[0,i,0]},{t3:[M,0,-T]}):Y===P?m.push({t3:[-M,-F,0]},{r3:[0,0,i]},{t3:[M,F,0]}):Y===c?m.push({t3:[-M,F,0]},{r3:[0,0,-i]},{t3:[M,-F,0]}):Y===K?m.push({t3:[-M,0,0]},{r3:[0,i,0]},{t3:[M,0,0]}):Y===X&&m.push({t3:[-M,0,0]},{r3:[0,0,i]},{t3:[M,0,0]})),C===P&&(Y===x?m.push({t3:[M,-F,0]},{r3:[0,0,i]},{t3:[-M,F,0]}):Y===l?m.push({t3:[-M,-F,0]},{r3:[0,0,-i]},{t3:[M,F,0]}):Y===P?m.push({t3:[0,-F,T]},{r3:[-i,0,0]},{t3:[0,F,-T]}):Y===c?m.push({t3:[0,-F,-T]},{r3:[i,0,0]},{t3:[0,F,T]}):Y===K?m.push({t3:[0,-F,0]},{r3:[0,0,i]},{t3:[0,F,0]}):Y===X&&m.push({t3:[0,-F,0]},{r3:[i,0,0]},{t3:[0,F,0]})),C===c&&(Y===x?m.push({t3:[M,F,0]},{r3:[0,0,-i]},{t3:[-M,-F,0]}):Y===l?m.push({t3:[-M,F,0]},{r3:[0,0,i]},{t3:[M,-F,0]}):Y===P?m.push({t3:[0,F,-T]},{r3:[-i,0,0]},{t3:[0,-F,T]}):Y===c?m.push({t3:[0,F,T]},{r3:[i,0,0]},{t3:[0,-F,-T]}):Y===K?m.push({t3:[0,F,0]},{r3:[0,0,i]},{t3:[0,-F,0]}):Y===X&&m.push({t3:[0,F,0]},{r3:[i,0,0]},{t3:[0,-F,0]})),$(m)}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);